import{b as I,e as U,f as L,h as C,i as q,k as W,l as X,m as M,n as K,o as J,p as Q,q as Z,r as $,s as N,t as ee}from"/build/_shared/chunk-WUZ43IXC.js";import{y as B}from"/build/_shared/chunk-NAJNDA3G.js";import{a as z,s as D}from"/build/_shared/chunk-3SQDOLIJ.js";import{d as P}from"/build/_shared/chunk-T36URGAI.js";var i=P(z(),1);var te=P(z(),1);var oe=P(D(),1),he=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Te="VisuallyHidden",re=te.forwardRef((e,o)=>(0,oe.jsx)(L.span,{...e,ref:o,style:{...he,...e.style}}));re.displayName=Te;var ne=re;var p=P(D(),1),[k,Qe]=q("Tooltip",[M]),H=M(),ie="TooltipProvider",ge=700,S="tooltip.open",[ye,G]=k(ie),ae=e=>{let{__scopeTooltip:o,delayDuration:t=ge,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:c}=e,s=i.useRef(!0),m=i.useRef(!1),a=i.useRef(0);return i.useEffect(()=>{let d=a.current;return()=>window.clearTimeout(d)},[]),(0,p.jsx)(ye,{scope:o,isOpenDelayedRef:s,delayDuration:t,onOpen:i.useCallback(()=>{window.clearTimeout(a.current),s.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:m,onPointerInTransitChange:i.useCallback(d=>{m.current=d},[]),disableHoverableContent:n,children:c})};ae.displayName=ie;var O="Tooltip",[Ce,A]=k(O),se=e=>{let{__scopeTooltip:o,children:t,open:r,defaultOpen:n,onOpenChange:c,disableHoverableContent:s,delayDuration:m}=e,a=G(O,e.__scopeTooltip),d=H(o),[l,f]=i.useState(null),v=X(),u=i.useRef(0),h=s??a.disableHoverableContent,R=m??a.delayDuration,T=i.useRef(!1),[y,g]=ee({prop:r,defaultProp:n??!1,onChange:Y=>{Y?(a.onOpen(),document.dispatchEvent(new CustomEvent(S))):a.onClose(),c?.(Y)},caller:O}),w=i.useMemo(()=>y?T.current?"delayed-open":"instant-open":"closed",[y]),E=i.useCallback(()=>{window.clearTimeout(u.current),u.current=0,T.current=!1,g(!0)},[g]),_=i.useCallback(()=>{window.clearTimeout(u.current),u.current=0,g(!1)},[g]),F=i.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>{T.current=!0,g(!0),u.current=0},R)},[R,g]);return i.useEffect(()=>()=>{u.current&&(window.clearTimeout(u.current),u.current=0)},[]),(0,p.jsx)(K,{...d,children:(0,p.jsx)(Ce,{scope:o,contentId:v,open:y,stateAttribute:w,trigger:l,onTriggerChange:f,onTriggerEnter:i.useCallback(()=>{a.isOpenDelayedRef.current?F():E()},[a.isOpenDelayedRef,F,E]),onTriggerLeave:i.useCallback(()=>{h?_():(window.clearTimeout(u.current),u.current=0)},[_,h]),onOpen:E,onClose:_,disableHoverableContent:h,children:t})})};se.displayName=O;var j="TooltipTrigger",ce=i.forwardRef((e,o)=>{let{__scopeTooltip:t,...r}=e,n=A(j,t),c=G(j,t),s=H(t),m=i.useRef(null),a=I(o,m,n.onTriggerChange),d=i.useRef(!1),l=i.useRef(!1),f=i.useCallback(()=>d.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),(0,p.jsx)(J,{asChild:!0,...s,children:(0,p.jsx)(L.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:a,onPointerMove:C(e.onPointerMove,v=>{v.pointerType!=="touch"&&!l.current&&!c.isPointerInTransitRef.current&&(n.onTriggerEnter(),l.current=!0)}),onPointerLeave:C(e.onPointerLeave,()=>{n.onTriggerLeave(),l.current=!1}),onPointerDown:C(e.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:C(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:C(e.onBlur,n.onClose),onClick:C(e.onClick,n.onClose)})})});ce.displayName=j;var V="TooltipPortal",[Pe,xe]=k(V,{forceMount:void 0}),be=e=>{let{__scopeTooltip:o,forceMount:t,children:r,container:n}=e,c=A(V,o);return(0,p.jsx)(Pe,{scope:o,forceMount:t,children:(0,p.jsx)(N,{present:t||c.open,children:(0,p.jsx)($,{asChild:!0,container:n,children:r})})})};be.displayName=V;var x="TooltipContent",le=i.forwardRef((e,o)=>{let t=xe(x,e.__scopeTooltip),{forceMount:r=t.forceMount,side:n="top",...c}=e,s=A(x,e.__scopeTooltip);return(0,p.jsx)(N,{present:r||s.open,children:s.disableHoverableContent?(0,p.jsx)(pe,{side:n,...c,ref:o}):(0,p.jsx)(we,{side:n,...c,ref:o})})}),we=i.forwardRef((e,o)=>{let t=A(x,e.__scopeTooltip),r=G(x,e.__scopeTooltip),n=i.useRef(null),c=I(o,n),[s,m]=i.useState(null),{trigger:a,onClose:d}=t,l=n.current,{onPointerInTransitChange:f}=r,v=i.useCallback(()=>{m(null),f(!1)},[f]),u=i.useCallback((h,R)=>{let T=h.currentTarget,y={x:h.clientX,y:h.clientY},g=De(y,T.getBoundingClientRect()),w=Le(y,g),E=ke(R.getBoundingClientRect()),_=Ie([...w,...E]);m(_),f(!0)},[f]);return i.useEffect(()=>()=>v(),[v]),i.useEffect(()=>{if(a&&l){let h=T=>u(T,l),R=T=>u(T,a);return a.addEventListener("pointerleave",h),l.addEventListener("pointerleave",R),()=>{a.removeEventListener("pointerleave",h),l.removeEventListener("pointerleave",R)}}},[a,l,u,v]),i.useEffect(()=>{if(s){let h=R=>{let T=R.target,y={x:R.clientX,y:R.clientY},g=a?.contains(T)||l?.contains(T),w=!He(y,s);g?v():w&&(v(),d())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[a,l,s,d,v]),(0,p.jsx)(pe,{...e,ref:c})}),[Ee,_e]=k(O,{isInside:!1}),Oe=U("TooltipContent"),pe=i.forwardRef((e,o)=>{let{__scopeTooltip:t,children:r,"aria-label":n,onEscapeKeyDown:c,onPointerDownOutside:s,...m}=e,a=A(x,t),d=H(t),{onClose:l}=a;return i.useEffect(()=>(document.addEventListener(S,l),()=>document.removeEventListener(S,l)),[l]),i.useEffect(()=>{if(a.trigger){let f=v=>{v.target?.contains(a.trigger)&&l()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[a.trigger,l]),(0,p.jsx)(W,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:l,children:(0,p.jsxs)(Q,{"data-state":a.stateAttribute,...d,...m,ref:o,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,p.jsx)(Oe,{children:r}),(0,p.jsx)(Ee,{scope:t,isInside:!0,children:(0,p.jsx)(ne,{id:a.contentId,role:"tooltip",children:n||r})})]})})});le.displayName=x;var ue="TooltipArrow",Ae=i.forwardRef((e,o)=>{let{__scopeTooltip:t,...r}=e,n=H(t);return _e(ue,t).isInside?null:(0,p.jsx)(Z,{...n,...r,ref:o})});Ae.displayName=ue;function De(e,o){let t=Math.abs(o.top-e.y),r=Math.abs(o.bottom-e.y),n=Math.abs(o.right-e.x),c=Math.abs(o.left-e.x);switch(Math.min(t,r,n,c)){case c:return"left";case n:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Le(e,o,t=5){let r=[];switch(o){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function ke(e){let{top:o,right:t,bottom:r,left:n}=e;return[{x:n,y:o},{x:t,y:o},{x:t,y:r},{x:n,y:r}]}function He(e,o){let{x:t,y:r}=e,n=!1;for(let c=0,s=o.length-1;c<o.length;s=c++){let m=o[c],a=o[s],d=m.x,l=m.y,f=a.x,v=a.y;l>r!=v>r&&t<(f-d)*(r-l)/(v-l)+d&&(n=!n)}return n}function Ie(e){let o=e.slice();return o.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Me(o)}function Me(e){if(e.length<=1)return e.slice();let o=[];for(let r=0;r<e.length;r++){let n=e[r];for(;o.length>=2;){let c=o[o.length-1],s=o[o.length-2];if((c.x-s.x)*(n.y-s.y)>=(c.y-s.y)*(n.x-s.x))o.pop();else break}o.push(n)}o.pop();let t=[];for(let r=e.length-1;r>=0;r--){let n=e[r];for(;t.length>=2;){let c=t[t.length-1],s=t[t.length-2];if((c.x-s.x)*(n.y-s.y)>=(c.y-s.y)*(n.x-s.x))t.pop();else break}t.push(n)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}var de=ae,fe=se,me=ce;var ve=le;var b=P(D(),1);function Se(e){return(0,b.jsx)(de,{"data-slot":"tooltip-provider",...e})}function $e(e){return(0,b.jsx)(Se,{children:(0,b.jsx)(fe,{"data-slot":"tooltip",...e})})}function et(e){return(0,b.jsx)(me,{"data-slot":"tooltip-trigger",...e})}var tt=({className:e,sideOffset:o=4,...t})=>(0,b.jsx)(ve,{"data-slot":"tooltip-content",sideOffset:o,className:B("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md border px-3 py-1.5 text-sm shadow-md",e),...t});export{Se as a,$e as b,et as c,tt as d};
