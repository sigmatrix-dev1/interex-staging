import{a as Pe}from"/build/_shared/chunk-V7PF5ZWC.js";import{a as Te}from"/build/_shared/chunk-WM7W7ZO3.js";import"/build/_shared/chunk-VWROOQNV.js";import{a as Ge}from"/build/_shared/chunk-P2IKF2RS.js";import"/build/_shared/chunk-6O6YQVML.js";import"/build/_shared/chunk-WUZ43IXC.js";import{A as Se,b as xe,k as ye,v as Ee,y as we}from"/build/_shared/chunk-NAJNDA3G.js";import{a as Z,s as J}from"/build/_shared/chunk-3SQDOLIJ.js";import{a as We}from"/build/_shared/chunk-KGZ63AAR.js";import{d as w}from"/build/_shared/chunk-T36URGAI.js";var lt=w(Ge(),1);var n=w(Z(),1),ee=w(Z(),1),y=w(Z(),1),$e=Object.defineProperty,Ue=Object.defineProperties,ze=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,Ne=(r,l,e)=>l in r?$e(r,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[l]=e,Ke=(r,l)=>{for(var e in l||(l={}))ke.call(l,e)&&Ne(r,e,l[e]);if(Q)for(var e of Q(l))Le.call(l,e)&&Ne(r,e,l[e]);return r},Ve=(r,l)=>Ue(r,ze(l)),qe=(r,l)=>{var e={};for(var s in r)ke.call(r,s)&&l.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&Q)for(var s of Q(r))l.indexOf(s)<0&&Le.call(r,s)&&(e[s]=r[s]);return e};function Xe(r){let l=setTimeout(r,0),e=setTimeout(r,10),s=setTimeout(r,50);return[l,e,s]}function Ye(r){let l=ee.useRef();return ee.useEffect(()=>{l.current=r}),l.current}var Ze=18,Ce=40,Je=`${Ce}px`,Qe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function et({containerRef:r,inputRef:l,pushPasswordManagerStrategy:e,isFocused:s}){let[L,d]=y.useState(!1),[j,C]=y.useState(!1),[H,G]=y.useState(!1),W=y.useMemo(()=>e==="none"?!1:(e==="increase-width"||e==="experimental-no-flickering")&&L&&j,[L,j,e]),_=y.useCallback(()=>{let g=r.current,P=l.current;if(!g||!P||H||e==="none")return;let b=g,S=b.getBoundingClientRect().left+b.offsetWidth,B=b.getBoundingClientRect().top+b.offsetHeight/2,i=S-Ze,$=B;document.querySelectorAll(Qe).length===0&&document.elementFromPoint(i,$)===g||(d(!0),G(!0))},[r,l,H,e]);return y.useEffect(()=>{let g=r.current;if(!g||e==="none")return;function P(){let S=window.innerWidth-g.getBoundingClientRect().right;C(S>=Ce)}P();let b=setInterval(P,1e3);return()=>{clearInterval(b)}},[r,e]),y.useEffect(()=>{let g=s||document.activeElement===l.current;if(e==="none"||!g)return;let P=setTimeout(_,0),b=setTimeout(_,2e3),S=setTimeout(_,5e3),B=setTimeout(()=>{G(!0)},6e3);return()=>{clearTimeout(P),clearTimeout(b),clearTimeout(S),clearTimeout(B)}},[l,s,e,_]),{hasPWMBadge:L,willPushPWMBadge:W,PWM_BADGE_SPACE_WIDTH:Je}}var tt=n.createContext({}),nt=n.forwardRef((r,l)=>{var e=r,{value:s,onChange:L,maxLength:d,textAlign:j="left",pattern:C,placeholder:H,inputMode:G="numeric",onComplete:W,pushPasswordManagerStrategy:_="increase-width",pasteTransformer:g,containerClassName:P,noScriptCSSFallback:b=rt,render:S,children:B}=e,i=qe(e,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),$,ie,se,ue,ce;let[Re,Oe]=n.useState(typeof i.defaultValue=="string"?i.defaultValue:""),u=s??Re,I=Ye(u),U=n.useCallback(t=>{L?.(t),Oe(t)},[L]),E=n.useMemo(()=>C?typeof C=="string"?new RegExp(C):C:null,[C]),c=n.useRef(null),ne=n.useRef(null),re=n.useRef({value:u,onChange:U,isIOS:typeof window<"u"&&((ie=($=window?.CSS)==null?void 0:$.supports)==null?void 0:ie.call($,"-webkit-touch-callout","none"))}),X=n.useRef({prev:[(se=c.current)==null?void 0:se.selectionStart,(ue=c.current)==null?void 0:ue.selectionEnd,(ce=c.current)==null?void 0:ce.selectionDirection]});n.useImperativeHandle(l,()=>c.current,[]),n.useEffect(()=>{let t=c.current,a=ne.current;if(!t||!a)return;re.current.value!==t.value&&re.current.onChange(t.value),X.current.prev=[t.selectionStart,t.selectionEnd,t.selectionDirection];function m(){if(document.activeElement!==t){K(null),V(null);return}let o=t.selectionStart,f=t.selectionEnd,Y=t.selectionDirection,x=t.maxLength,R=t.value,T=X.current.prev,N=-1,k=-1,O;if(R.length!==0&&o!==null&&f!==null){let De=o===f,Fe=o===R.length&&R.length<x;if(De&&!Fe){let A=o;if(A===0)N=0,k=1,O="forward";else if(A===x)N=A-1,k=A,O="backward";else if(x>1&&R.length>1){let oe=0;if(T[0]!==null&&T[1]!==null){O=A<T[1]?"backward":"forward";let je=T[0]===T[1]&&T[0]<x;O==="backward"&&!je&&(oe=-1)}N=oe+A,k=oe+A+1}}N!==-1&&k!==-1&&N!==k&&c.current.setSelectionRange(N,k,O)}let ve=N!==-1?N:o,be=k!==-1?k:f,Be=O??Y;K(ve),V(be),X.current.prev=[ve,be,Be]}if(document.addEventListener("selectionchange",m,{capture:!0}),m(),document.activeElement===t&&ae(!0),!document.getElementById("input-otp-style")){let o=document.createElement("style");if(o.id="input-otp-style",document.head.appendChild(o),o.sheet){let f="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";q(o.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),q(o.sheet,`[data-input-otp]:autofill { ${f} }`),q(o.sheet,`[data-input-otp]:-webkit-autofill { ${f} }`),q(o.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),q(o.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let h=()=>{a&&a.style.setProperty("--root-height",`${t.clientHeight}px`)};h();let v=new ResizeObserver(h);return v.observe(t),()=>{document.removeEventListener("selectionchange",m,{capture:!0}),v.disconnect()}},[]);let[de,pe]=n.useState(!1),[z,ae]=n.useState(!1),[M,K]=n.useState(null),[D,V]=n.useState(null);n.useEffect(()=>{Xe(()=>{var t,a,m,h;(t=c.current)==null||t.dispatchEvent(new Event("input"));let v=(a=c.current)==null?void 0:a.selectionStart,o=(m=c.current)==null?void 0:m.selectionEnd,f=(h=c.current)==null?void 0:h.selectionDirection;v!==null&&o!==null&&(K(v),V(o),X.current.prev=[v,o,f])})},[u,z]),n.useEffect(()=>{I!==void 0&&u!==I&&I.length<d&&u.length===d&&W?.(u)},[d,W,I,u]);let F=et({containerRef:ne,inputRef:c,pushPasswordManagerStrategy:_,isFocused:z}),me=n.useCallback(t=>{let a=t.currentTarget.value.slice(0,d);if(a.length>0&&E&&!E.test(a)){t.preventDefault();return}typeof I=="string"&&a.length<I.length&&document.dispatchEvent(new Event("selectionchange")),U(a)},[d,U,I,E]),fe=n.useCallback(()=>{var t;if(c.current){let a=Math.min(c.current.value.length,d-1),m=c.current.value.length;(t=c.current)==null||t.setSelectionRange(a,m),K(a),V(m)}ae(!0)},[d]),ge=n.useCallback(t=>{var a,m;let h=c.current;if(!g&&(!re.current.isIOS||!t.clipboardData||!h))return;let v=t.clipboardData.getData("text/plain"),o=g?g(v):v;t.preventDefault();let f=(a=c.current)==null?void 0:a.selectionStart,Y=(m=c.current)==null?void 0:m.selectionEnd,x=(f!==Y?u.slice(0,f)+o+u.slice(Y):u.slice(0,f)+o+u.slice(f)).slice(0,d);if(x.length>0&&E&&!E.test(x))return;h.value=x,U(x);let R=Math.min(x.length,d-1),T=x.length;h.setSelectionRange(R,T),K(R),V(T)},[d,U,E,u]),Ae=n.useMemo(()=>({position:"relative",cursor:i.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[i.disabled]),he=n.useMemo(()=>({position:"absolute",inset:0,width:F.willPushPWMBadge?`calc(100% + ${F.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:F.willPushPWMBadge?`inset(0 ${F.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:j,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[F.PWM_BADGE_SPACE_WIDTH,F.willPushPWMBadge,j]),He=n.useMemo(()=>n.createElement("input",Ve(Ke({autoComplete:i.autoComplete||"one-time-code"},i),{"data-input-otp":!0,"data-input-otp-placeholder-shown":u.length===0||void 0,"data-input-otp-mss":M,"data-input-otp-mse":D,inputMode:G,pattern:E?.source,"aria-placeholder":H,style:he,maxLength:d,value:u,ref:c,onPaste:t=>{var a;ge(t),(a=i.onPaste)==null||a.call(i,t)},onChange:me,onMouseOver:t=>{var a;pe(!0),(a=i.onMouseOver)==null||a.call(i,t)},onMouseLeave:t=>{var a;pe(!1),(a=i.onMouseLeave)==null||a.call(i,t)},onFocus:t=>{var a;fe(),(a=i.onFocus)==null||a.call(i,t)},onBlur:t=>{var a;ae(!1),(a=i.onBlur)==null||a.call(i,t)}})),[me,fe,ge,G,he,d,D,M,i,E?.source,u]),le=n.useMemo(()=>({slots:Array.from({length:d}).map((t,a)=>{var m;let h=z&&M!==null&&D!==null&&(M===D&&a===M||a>=M&&a<D),v=u[a]!==void 0?u[a]:null,o=u[0]!==void 0?null:(m=H?.[a])!=null?m:null;return{char:v,placeholderChar:o,isActive:h,hasFakeCaret:h&&v===null}}),isFocused:z,isHovering:!i.disabled&&de}),[z,de,d,D,M,i.disabled,u]),_e=n.useMemo(()=>S?S(le):n.createElement(tt.Provider,{value:le},B),[B,le,S]);return n.createElement(n.Fragment,null,b!==null&&n.createElement("noscript",null,n.createElement("style",null,b)),n.createElement("div",{ref:ne,"data-input-otp-container":!0,style:Ae,className:P},_e,n.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},He)))});nt.displayName="Input";function q(r,l){try{r.insertRule(l)}catch{console.error("input-otp could not insert CSS rule:",l)}}var rt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;var at=w(Z(),1);var te=w(J(),1);function Ie({id:r,errors:l}){let e=l?.filter(Boolean);return e?.length?(0,te.jsx)("ul",{id:r,className:"flex flex-col gap-1",children:e.map(s=>(0,te.jsx)("li",{className:"text-foreground-destructive text-[10px]",children:s},s))}):null}var ot=w(We(),1);var p=w(J(),1);function Me({loaderData:r}){let l=Se({formMethod:"GET",formAction:"/users"});return(0,p.jsxs)("div",{className:"container mt-36 mb-48 flex flex-col items-center justify-center gap-6",children:[(0,p.jsx)("h1",{className:"text-h1",children:"Epic Notes Users"}),(0,p.jsx)("div",{className:"w-full max-w-[700px]",children:(0,p.jsx)(Pe,{status:r.status,autoFocus:!0,autoSubmit:!0})}),(0,p.jsx)("main",{children:r.status==="idle"?r.users.length?(0,p.jsxs)("ul",{className:we("flex w-full flex-wrap items-center justify-center gap-4 delay-200",{"opacity-50":l}),children:["						",r.users.map(e=>(0,p.jsx)("li",{children:(0,p.jsxs)(ye,{to:e.username,className:"bg-muted flex h-36 w-44 flex-col items-center justify-center rounded-lg px-5 py-3",children:[(0,p.jsx)(xe,{alt:e.name??e.username,src:Ee(e.imageObjectKey),className:"size-16 rounded-full",width:256,height:256}),e.name?(0,p.jsx)("span",{className:"text-body-md w-full overflow-hidden text-center text-ellipsis whitespace-nowrap",children:e.name}):null,(0,p.jsx)("span",{className:"text-body-sm text-muted-foreground w-full overflow-hidden text-center text-ellipsis",children:e.username})]})},e.id))]}):(0,p.jsx)("p",{children:"No users found"}):r.status==="error"?(0,p.jsx)(Ie,{errors:["There was an error parsing the results"]}):null})]})}function it(){return(0,p.jsx)(Te,{})}export{it as ErrorBoundary,Me as default};
